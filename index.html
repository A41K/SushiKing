<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CookMaster - Pixel Restaurant Simulator</title>
    <link rel="icon" type="image/x-icon" href="textures/favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <div id="header">
            <h1>ğŸ›ï¸ COOKING MASTER ğŸ”</h1>
            <div id="headerButtons">
                <button class="pixel-btn shop" onclick="openModal('shopModal')">SHOP</button>
                <button class="pixel-btn tutorial" onclick="openModal('tutorialModal')">TUTORIAL</button>
                <button onclick="game.showExpensesBreakdown()" class="pixel-btn">EXPENSES</button>
                <button class="pixel-btn" onclick="saveGame()">SAVE</button>
                <button class="pixel-btn" onclick="loadGame()">LOAD</button>
                <button class="pixel-btn settings" onclick="openModal('settingsModal')">âš™ï¸</button>
            </div>
        </div>
        
        <!-- Game Status Bar -->
        <div id="gameStatus">
            <div class="status-item">
                <span class="status-label">ğŸ“… DAY:</span>
                <span id="dayCounter" class="status-value">1</span>
            </div>
            <div class="status-item">
                <span class="status-label">â° TIME LEFT:</span>
                <span id="timeLeft" class="status-value">6:00</span>
            </div>
            <div class="status-item">
                <span class="status-label">ğŸ’° MONEY:</span>
                <span id="money" class="status-value">$100</span>
            </div>
            <div class="status-item">
                <span class="status-label">ğŸ’¸ DAILY EXPENSES:</span>
                <span id="dailyExpenses" class="status-value">$115</span>
            </div>
        </div>
        
        <div id="gameArea">
            <div id="canvasContainer">
                <canvas id="gameCanvas" width="800" height="600"></canvas>
            </div>
            
            <div id="sidebar">
                <div class="panel">
                    <h3>ğŸ“¦ INVENTORY</h3>
                    <div id="inventoryItems" class="inventory-grid"></div>
                </div>
                
                <div class="panel">
                    <h3>ğŸ“‹ ORDERS</h3>
                    <div id="ordersList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Disclaimer / First-Time Info Modal -->
    <div id="disclaimerModal" class="modal">
    <div class="modal-content">
        <h2 style="text-align:center; color:#ffd700;">ğŸ“¢ Welcome to Cooking Master! <span style="color: red;">(PLEASE READ THIS)</span></h2>
        <p style="color:white; line-height:1.6; margin-top:15px;">
        This is a <strong>Pixel restaurant simulator</strong> where you must run your 
        own international kitchen! Learn recipes, prepare dishes step by step, 
        and serve customers before time runs out.
        </p>

        <div class="tutorial-step">
        <h3>â³ Why is this here?</h3>
        <p style="color: red; font-size: large;">This was added as a precaution because I saw a lot of players didn't understand how this worked
            so I made this small disclaimer to explain everything in detail.
        </p>
        </div>

        <div class="tutorial-step">
        <h3>ğŸ¯ Objective</h3>
        <p>Survive as many days as possible! Each day youâ€™ll need to earn 
        enough money to pay your daily expenses.</p>
        </div>

        <div class="tutorial-step">
        <h3>âš™ï¸ How to Play</h3>
        <ul style="color:#fff; font-size:14px; line-height:1.4;">
            <li>ğŸ“¦ Buy ingredients from the <strong>Shop</strong> (SHOP button).</li>
            <li>ğŸ–±ï¸ Click inventory items to spawn on canvas, drag them to stations.</li>
            <li>ğŸ½ï¸ Hover over items to see their recipes and how to make them</li>
            <li>ğŸ“‹ Match customer orders for bonus money!</li>
            <li>â° Keep an eye on the daily timer and order deadlines.</li>
            <li>ğŸ’¸ Pay your daily expenses before the day ends!</li>
            <li>ğŸ™Œ Most importantly Have Fun</li>
        </ul>
        </div>

        <div class="tutorial-step">
        <h3>ğŸŒ Unlocking Recipes</h3>
        <p>As you progress through days, youâ€™ll unlock <strong>new cuisines</strong> 
        â€” Japanese, Italian, Mexican, Indian, French and more!</p>
        </div>

        <div style="text-align:center; margin-top:20px;">
        <button class="pixel-btn" onclick="closeDisclaimer(true)">âœ… Letâ€™s Cook!</button>
        </div>
    </div>
    </div>

    <!-- Floating Jukebox Panel -->
    <div id="jukeboxPanel">
    <img src="textures/Jukebox.webp" id="jukeboxBtn" alt="Jukebox">
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('settingsModal')">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 20px;">âš™ï¸ GAME SETTINGS</h3>
    
        <div class="settings-section">
            <label>
                ğŸµ Music:
                <input type="checkbox" id="musicToggle" checked>
            </label>
        </div>

        <div class="settings-section">
            <label>
                ğŸ”Š Sound Effects:
                <input type="checkbox" id="sfxToggle" checked>
            </label>  
        </div>

    <div class="modal-buttons">
      <button class="pixel-btn" onclick="applySettings()">âœ… Apply</button>
      <button class="pixel-btn" onclick="closeModal('settingsModal')">âŒ Cancel</button>
    </div>
  </div>
</div>
    
    <!-- Canvas Tooltip -->
    <div id="canvasTooltip" class="canvas-tooltip"></div>
    
    <!-- Shop Modal -->
    <div id="shopModal" class="modal">
        <div class="modal-content shop-modal">
            <span class="close" onclick="closeModal('shopModal')">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 20px;">ğŸ›’ INGREDIENT SHOP</h3>
            <div class="shop-grid" id="shopGrid"></div>
        </div>
    </div>

    <!-- Stats Modal -->
    <div id="statsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('statsModal')">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 20px;">ğŸ“Š GAME STATS</h3>
    <div id="statsContent"></div>
  </div>
</div>


<!-- Jukebox Modal -->
<div id="jukeboxModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('jukeboxModal')">&times;</span>
    <h3>ğŸµ JUKEBOX</h3>

    <!-- Hidden real input, custom label for style -->
    <label for="songUpload" class="upload-label">ğŸ“‚ Upload MP3 Songs</label>
    <input type="file" id="songUpload" accept="audio/mp3,audio/mpeg" multiple style="display:none;">


    <div style="margin-top: 15px; text-align: center;">
    <label for="volumeControl">ğŸ”Š Volume:</label><br>
    <input 
        type="range" 
        id="volumeControl" 
        min="0" 
        max="1" 
        step="0.01" 
        value="1" 
        style="width: 80%;">
    </div>

    <!-- Playlist list -->
        <div id="songList"></div>
    </div>
</div>
    
    <!-- Tutorial Modal -->
    <div id="tutorialModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('tutorialModal')">&times;</span>
            <h3 style="text-align: center; color: #ffd700; margin-bottom: 20px;">ğŸ“š TUTORIAL</h3>
            
            <div class="tutorial-step">
                <h4>ğŸ’¡ GAME OBJECTIVE</h4>
                <p>Survive as many days as possible! Each day costs $115 in expenses. Make enough money each day to stay in business!</p>
            </div>
            
            <div class="tutorial-step">
                <h4>ğŸ“… DAY SYSTEM</h4>
                <p>â€¢ Each day lasts 10 minutes<br>
                â€¢ Daily expenses: Rent ($50), Electricity ($15), Gas ($10), Water ($8), Insurance ($12), Supplies ($20)<br>
                â€¢ You must have enough money at day's end to pay expenses<br>
                â€¢ If you can't pay, it's game over!</p>
            </div>
            
            <div class="tutorial-step">
                <h4>ğŸ”„ PROCESSING CHAIN</h4>
                <div class="process-flow">
                    RAW <span class="process-arrow">â†’</span> WASH <span class="process-arrow">â†’</span> PEEL <span class="process-arrow">â†’</span> CHOP <span class="process-arrow">â†’</span> COOK <span class="process-arrow">â†’</span> COMBINE
                </div>
            </div>
            
            <div class="tutorial-step">
                <h4>ğŸ¥’ EXAMPLE: CUCUMBER ROLL</h4>
                <p>1. Buy cucumber from shop<br>
                2. WASH station: Clean the cucumber<br>
                3. PEEL station: Remove skin<br>
                4. CHOP station: Cut into pieces<br>
                5. Buy rice and COOK it<br>
                6. PREP station: Combine with nori<br>
                7. SERVE to customers</p>
            </div>
            
            <div class="tutorial-step">
                <h4>ğŸ® CONTROLS</h4>
                <p>â€¢ Click inventory items to spawn them<br>
                â€¢ Drag items to processing stations<br>
                â€¢ Drop items in top area to return to inventory<br>
                â€¢ Each station has cooldown timers<br>
                â€¢ Hover over items and orders for details<br>
                â€¢ Match customer orders for bonus money</p>
            </div>
            
            <div class="tutorial-step">
                <h4>ğŸ± RECIPES</h4>
                <p><strong>Salmon Nigiri:</strong> Cooked Salmon + Cooked Rice<br>
                <strong>Tuna Roll:</strong> Cooked Tuna + Cooked Rice + Nori<br>
                <strong>California Roll:</strong> Chopped Cucumber + Chopped Avocado + Cooked Rice + Nori<br>
                <strong>Dragon Roll:</strong> Cooked Eel + Chopped Avocado + Cooked Rice + Nori<br>
                <em>...and many more! Experiment with different combinations!</em></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>